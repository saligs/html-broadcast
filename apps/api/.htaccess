<IfModule mod_deflate.c>
  SetOutputFilter DEFLATE
  SetEnvIfNoCase Request_URI \
  \.(?:gif|jpe?g|png)$ no-gzip dont-vary
</IfModule>
#
# configure mod_expires
#
# URL: http://httpd.apache.org/docs/2.2/mod/mod_expires.html
#
<IfModule mod_expires.c>
    ExpiresActive on
          ExpiresByType video/asf "access 2 month"
          ExpiresByType video/avi "access 2 month"
          ExpiresByType video/quicktime "access 2 month"
          ExpiresByType video/mp4 "access 2 month"
          ExpiresByType video/mpeg "access 2 month"
          ExpiresByType audio/mp3 "access 2 month"
      ExpiresByType image/jpg "access 2 month"
      ExpiresByType image/gif "access 2 month"
      ExpiresByType image/jpeg "access 2 month"
      ExpiresByType image/png "access 2 month"
      ExpiresByType text/css "access 2 month"
      ExpiresByType application/x-javascript "access plus 2 month"
      ExpiresByType text/html "access plus 2 month"
      ExpiresByType text/javascript "access plus 2 month"
      ExpiresByType application/javascript "access plus 2 month"
      ExpiresByType image/x-icon "access plus 12 month"
      ExpiresByType image/icon "access plus 12 month"
      ExpiresByType application/x-ico "access plus 12 month"
      ExpiresByType application/ico "access plus 12 month"
</IfModule>

<ifModule mod_gzip.c>
mod_gzip_on Yes
mod_gzip_dechunk Yes
mod_gzip_item_include file .(html?|txt|css|js|php|pl)$
mod_gzip_item_include handler ^cgi-script$
mod_gzip_item_include mime ^text/.*
mod_gzip_item_include mime ^application/x-javascript.*
mod_gzip_item_exclude mime ^image/.*
mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>

#
# configure mod_headers
#
# URL: http://httpd.apache.org/docs/2.2/mod/mod_headers.html
#
<IfModule mod_headers.c>
    <FilesMatch "\\.(ico|jpe?g|png|gif|swf|css|js|html)$">
        Header set Cache-Control "max-age=2692000, public, must-revalidate"
    </FilesMatch>
    <FilesMatch "\\.(x?html?|php)$">
        Header set Cache-Control "max-age=172800, public, must-revalidate"
    </FilesMatch>
    Header unset ETag
    Header unset Last-Modified
</IfModule>
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^((?s).*)$ index.php?_url=/$1 [QSA,L]
</IfModule>
Options -Indexes